{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SACA,MAAMC,EAASC,SAASC,cAAc,SAChCC,EAAaF,SAASC,cAAc,uBAGpCE,EAAYH,SAASC,cAAc,sBACnCG,EAAcJ,SAASC,cAAc,wBAMrCI,EAAWC,aAAaC,QADZ,uBACiCC,KAAKC,MAAMH,aAAaC,QADzD,wBAC6E,GAEzFG,EAAWJ,aAAaC,QAHZ,uBAIV,GAAIG,EAAU,CACV,MAAMC,EAAYH,KAAKC,MAAMC,GAC7BR,EAAWU,MAAQD,EAAUE,OAAS,GACtCV,EAAUS,MAAQD,EAAUG,MAAQ,GACpCV,EAAYQ,MAAQD,EAAUI,QAAU,QAG1Cb,EAAWU,MAAQ,GACnBT,EAAUS,MAAQ,GAClBR,EAAYQ,MAAQ,GAa9B,SAASI,EAAcC,EAAUJ,GAE/B,OAAO,IAAIK,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,KAELH,EACFF,EAAQ,uBAAqBF,QAAiBJ,OAG5CO,EAAK,sBAAoBH,QAAeJ,SAE3CA,MArBPd,EAAO0B,iBAAiB,SAGxB,SAA8BC,GAC1BrB,EAASqB,EAAMC,OAAOC,MAAQF,EAAMC,OAAOf,MAC3CN,aAAauB,QAtBC,sBAsBkBrB,KAAKsB,UAAUzB,OAJnDN,EAAO0B,iBAAiB,UA0BxB,SAAiCC,GAC/BA,EAAMK,iBACNC,QAAQC,IAAIzB,KAAKC,MAAMH,aAAaC,QA9CpB,yBAgDlB,IAAI2B,GAAehC,EAAWU,MAC1BuB,GAAchC,EAAUS,MACxBwB,GAAgBhC,EAAYQ,MAEhC,IAAK,IAAIyB,EAAI,EAAGA,GAAKD,EAAaC,GAAK,EACrCrB,EAAcqB,EAAGH,GAChBI,MAAMC,IAAW1C,EAAA2C,OAAOC,QAAQF,MACvBG,OAAOH,IAAW1C,EAAA2C,OAAOG,QAAQJ,MAC3CL,GAAcC,EAGd7B,aAAasC,WA3DG,uBA4DhBlB,EAAMmB,cAAcC","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\nconst formEl = document.querySelector('.form');\nconst inputDelay = document.querySelector('input[name=\"delay\"]');\n\n// console.log(inputDelay);\nconst inputStep = document.querySelector('input[name=\"step\"]');\nconst inputAmount = document.querySelector('input[name=\"amount\"]');\n\n\n\n\nconst LOCAL_KEY = \"feedback-form-state\";\nconst formData = localStorage.getItem(LOCAL_KEY) ? JSON.parse(localStorage.getItem(LOCAL_KEY)):{};\n\nconst saveItem = localStorage.getItem(LOCAL_KEY);\n        if (saveItem) {\n            const itemParse = JSON.parse(saveItem);\n            inputDelay.value = itemParse.delay || \"\";\n            inputStep.value = itemParse.step || \"\";\n            inputAmount.value = itemParse.amount || \"\";\n        }\n        else {\n          inputDelay.value = \"\";\n          inputStep.value = \"\";\n          inputAmount.value = \"\";\n        }\n\n\nformEl.addEventListener(\"input\", handleSaveInputValue);\nformEl.addEventListener('submit', handleSubmitButtonClick);\n\nfunction handleSaveInputValue(event) {\n    formData[event.target.name] = event.target.value;\n    localStorage.setItem(LOCAL_KEY, JSON.stringify(formData));\n}\n\n\nfunction createPromise(position, delay) {\n \n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    setTimeout(() =>{\n      \n      if (shouldResolve) {\n        resolve(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      }\n      else {\n        reject(`❌ Rejected promise ${position} in ${delay}ms`);\n      }\n    }, delay)\n  })\n};\n\n\n\nfunction handleSubmitButtonClick(event) {\n  event.preventDefault();\n  console.log(JSON.parse(localStorage.getItem(LOCAL_KEY)));\n\nlet delayValue = + inputDelay.value;\nlet stepValue = + inputStep.value;\nlet amountValue = + inputAmount.value;\n\nfor (let i = 1; i <= amountValue; i += 1) {\n  createPromise(i, delayValue)\n  .then((resp) => { Notify.success(resp)    })\n           .catch((resp) => { Notify.failure(resp)    })\n  delayValue += stepValue;\n}\n\n  localStorage.removeItem(LOCAL_KEY);\n  event.currentTarget.reset();\n}\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$formEl","document","querySelector","$47d4ff9957288465$var$inputDelay","$47d4ff9957288465$var$inputStep","$47d4ff9957288465$var$inputAmount","$47d4ff9957288465$var$formData","localStorage","getItem","JSON","parse","$47d4ff9957288465$var$saveItem","itemParse","value","delay","step","amount","$47d4ff9957288465$var$createPromise","position","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","addEventListener","event","target","name","setItem","stringify","preventDefault","console","log","delayValue","stepValue","amountValue","i","then","resp","Notify","success","catch","failure","removeItem","currentTarget","reset"],"version":3,"file":"03-promises.13661919.js.map"}