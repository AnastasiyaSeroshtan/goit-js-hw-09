{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SACMC,EAASC,SAASC,cAAc,SAChCC,EAAaF,SAASC,cAAc,uBAGpCE,EAAYH,SAASC,cAAc,sBACnCG,EAAcJ,SAASC,cAAc,wBAKrCI,EAAY,sBACZC,EAAWC,aAAaC,QAAQH,GAAaI,KAAKC,MAAMH,aAAaC,QAAQH,IAAY,GAEzFM,EAAWJ,aAAaC,QAAQH,GAC9B,GAAIM,EAAU,CACV,IAAMC,EAAYH,KAAKC,MAAMC,GAC7BT,EAAWW,MAAQD,EAAUE,OAAS,GACtCX,EAAUU,MAAQD,EAAUG,MAAQ,GACpCX,EAAYS,MAAQD,EAAUI,QAAU,QAG1Cd,EAAWW,MAAQ,GACnBV,EAAUU,MAAQ,GAClBT,EAAYS,MAAQ,GAa9B,SAASI,EAAcC,EAAUJ,GAE/B,OAAO,IAAIK,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,WAELH,EACFF,EAAQ,uBAAwCM,OAAfR,EAAS,QAAYQ,OAANZ,EAAM,OAGpDO,EAAK,sBAAqCK,OAAfR,EAAS,QAAYQ,OAANZ,EAAM,SAEnDA,MArBPf,EAAO4B,iBAAiB,SAGxB,SAA8BC,GAC1BtB,EAASsB,EAAMC,OAAOC,MAAQF,EAAMC,OAAOhB,MAC3CN,aAAawB,QAAQ1B,EAAWI,KAAKuB,UAAU1B,OAJnDP,EAAO4B,iBAAiB,UA0BxB,SAAiCC,GAC/BA,EAAMK,iBACNC,QAAQC,IAAI1B,KAAKC,MAAMH,aAAaC,QAAQH,KAM9C,IAJA,IAAI+B,GAAelC,EAAWW,MAC1BwB,GAAclC,EAAUU,MACxByB,GAAgBlC,EAAYS,MAEvB0B,EAAI,EAAGA,GAAKD,EAAaC,GAAK,EACrCtB,EAAcsB,EAAGH,GAChBI,MAAK,SAACC,GAAW5C,EAAA6C,OAAOC,QAAQF,MACvBG,OAAM,SAACH,GAAW5C,EAAA6C,OAAOG,QAAQJ,MAC3CL,GAAcC,EAGd9B,aAAauC,WAAWzC,GACxBuB,EAAMmB,cAAcC,W","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\nconst formEl = document.querySelector('.form');\nconst inputDelay = document.querySelector('input[name=\"delay\"]');\n\n// console.log(inputDelay);\nconst inputStep = document.querySelector('input[name=\"step\"]');\nconst inputAmount = document.querySelector('input[name=\"amount\"]');\n\n\n\n\nconst LOCAL_KEY = \"feedback-form-state\";\nconst formData = localStorage.getItem(LOCAL_KEY) ? JSON.parse(localStorage.getItem(LOCAL_KEY)):{};\n\nconst saveItem = localStorage.getItem(LOCAL_KEY);\n        if (saveItem) {\n            const itemParse = JSON.parse(saveItem);\n            inputDelay.value = itemParse.delay || \"\";\n            inputStep.value = itemParse.step || \"\";\n            inputAmount.value = itemParse.amount || \"\";\n        }\n        else {\n          inputDelay.value = \"\";\n          inputStep.value = \"\";\n          inputAmount.value = \"\";\n        }\n\n\nformEl.addEventListener(\"input\", handleSaveInputValue);\nformEl.addEventListener('submit', handleSubmitButtonClick);\n\nfunction handleSaveInputValue(event) {\n    formData[event.target.name] = event.target.value;\n    localStorage.setItem(LOCAL_KEY, JSON.stringify(formData));\n}\n\n\nfunction createPromise(position, delay) {\n \n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    setTimeout(() =>{\n      \n      if (shouldResolve) {\n        resolve(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      }\n      else {\n        reject(`❌ Rejected promise ${position} in ${delay}ms`);\n      }\n    }, delay)\n  })\n};\n\n\n\nfunction handleSubmitButtonClick(event) {\n  event.preventDefault();\n  console.log(JSON.parse(localStorage.getItem(LOCAL_KEY)));\n\nlet delayValue = + inputDelay.value;\nlet stepValue = + inputStep.value;\nlet amountValue = + inputAmount.value;\n\nfor (let i = 1; i <= amountValue; i += 1) {\n  createPromise(i, delayValue)\n  .then((resp) => { Notify.success(resp)    })\n           .catch((resp) => { Notify.failure(resp)    })\n  delayValue += stepValue;\n}\n\n  localStorage.removeItem(LOCAL_KEY);\n  event.currentTarget.reset();\n}\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$formEl","document","querySelector","$ce04d3a99e08e73b$var$inputDelay","$ce04d3a99e08e73b$var$inputStep","$ce04d3a99e08e73b$var$inputAmount","$ce04d3a99e08e73b$var$LOCAL_KEY","$ce04d3a99e08e73b$var$formData","localStorage","getItem","JSON","parse","$ce04d3a99e08e73b$var$saveItem","$ce04d3a99e08e73b$var$itemParse","value","delay","step","amount","$ce04d3a99e08e73b$var$createPromise","position","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","concat","addEventListener","event","target","name","setItem","stringify","preventDefault","console","log","delayValue","stepValue","amountValue","i","then","resp","Notify","success","catch","failure","removeItem","currentTarget","reset"],"version":3,"file":"03-promises.bad75a9f.js.map"}